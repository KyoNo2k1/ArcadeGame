{"ast":null,"code":"import _slicedToArray from\"C:/Users/nghia/Documents/arcade/front-end/user_website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import'./friend-list.css';//import AddFriend from './add-friend.jsx'\nimport axios from'axios';import{Card,CardHeader,CardBody,Table,Row,Col}from\"reactstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ListFriend(_ref){var user=_ref.user;var openForm=function openForm(){document.getElementById('friend-list-add').style.display='none';document.getElementById('friend-list-form').style.display='flex';};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listFriend=_useState2[0],setListFriend=_useState2[1];useEffect(function(){if(user!=null)getFriend();},[user]);var getFriend=function getFriend(){axios.get('friend/get-by-user-id/'+user.id).then(function(res){console.log(res.data.post);setListFriend(res.data.post);}).catch(function(err){console.log(err);});};var config={headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}};var addmail=document.getElementById('add-email');var AddFriend=function AddFriend(){if(addmail.value!=null){if(user.Email!==addmail.value){axios.post('/friend',{UserID:user.id,FriendEmail:addmail.value},config).then(function(response){getFriend();}).catch(function(err){alert('Friend exists or cant find');});}else alert('Can not add your self');}};return user?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"12\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"List friend\"}),/*#__PURE__*/_jsx(\"button\",{id:\"friend-list-add\",className:\"btnAddFr\",onClick:openForm,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-plus\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__add-email\",id:\"friend-list-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"\",id:\"add-email\",placeholder:\"Friend Email\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:AddFriend,children:\"Add\"})]})]}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Table,{className:\"tablesorter\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-primary\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Avatar\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Full name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sex\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Day of birth\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:listFriend?listFriend.map(function(friend){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"friend-list__title-img\",src:axios.defaults.baseURL+'uploads/images/users/'+friend.FriendAvatar,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:friend.FriendEmail}),/*#__PURE__*/_jsx(\"td\",{children:friend.FriendFullName}),/*#__PURE__*/_jsx(\"td\",{children:Number(friend.FriendGender)===1?'Male':'Female'}),/*#__PURE__*/_jsx(\"td\",{children:friend.FriendDayOfBirth!=null?friend.FriendDayOfBirth.substring(0,10):'0000-00-00'})]},friend.id);}):null})]})})]})})})})}):null;}export default ListFriend;","map":{"version":3,"sources":["C:/Users/nghia/Documents/arcade/front-end/user_website/src/Pages/UserAccount/FriendList/list-friend.jsx"],"names":["React","useState","useEffect","axios","Card","CardHeader","CardBody","Table","Row","Col","ListFriend","user","openForm","document","getElementById","style","display","listFriend","setListFriend","getFriend","get","id","then","res","console","log","data","post","catch","err","config","headers","Authorization","localStorage","getItem","addmail","AddFriend","value","Email","UserID","FriendEmail","response","alert","map","friend","defaults","baseURL","FriendAvatar","FriendFullName","Number","FriendGender","FriendDayOfBirth","substring"],"mappings":"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","sourcesContent":["\r\nimport React, {useState,useEffect} from \"react\";\r\nimport './friend-list.css'\r\n//import AddFriend from './add-friend.jsx'\r\nimport axios from 'axios'\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  Table,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\";\r\n\r\n\r\nfunction ListFriend({user}){\r\n  const openForm = ()=> {\r\n    document.getElementById('friend-list-add').style.display = 'none';\r\n    document.getElementById('friend-list-form').style.display = 'flex';\r\n  }\r\n  const [listFriend, setListFriend] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if(user!=null)\r\n    getFriend()\r\n  },[user])\r\n  \r\n  const getFriend = () => {\r\n    axios.get('friend/get-by-user-id/' + user.id )\r\n        .then(res => {\r\n            console.log(res.data.post);\r\n            setListFriend(res.data.post)\r\n            \r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n      }\r\n\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n  };\r\n    \r\n  const addmail = document.getElementById('add-email');\r\n\r\n  const AddFriend = () => {\r\n    \r\n    if(addmail.value != null)\r\n    {\r\n      if(user.Email !== addmail.value)\r\n      {\r\n          axios.post('/friend', {\r\n              UserID : user.id,\r\n              FriendEmail : addmail.value\r\n              }, config)\r\n              .then(response => {\r\n                  getFriend()\r\n              })\r\n              .catch(err => {\r\n                  alert('Friend exists or cant find')\r\n          })\r\n      }\r\n      else alert('Can not add your self')\r\n    }\r\n  }\r\n \r\n  \r\n    return  (user) ? (\r\n    <>\r\n    <div className=\"content\">\r\n    \r\n      <Row>\r\n        <Col className=\"12\">\r\n          <Card>\r\n          <CardHeader>\r\n            <h1 className=\"title\">List friend</h1>\r\n            \r\n            <button \r\n              id=\"friend-list-add\"\r\n              className=\"btnAddFr\"\r\n              onClick={openForm}\r\n            >      \r\n            <i className=\"fas fa-user-plus\"></i>\r\n            </button>\r\n            <div className=\"friend-list__add-email\" id=\"friend-list-form\">\r\n              <input type=\"text\" className=\"form-control\" name='' id=\"add-email\" placeholder=\"Friend Email\"/>\r\n              <button type=\"submit\" className=\"btn btn-primary\" onClick={AddFriend}>Add</button>\r\n            </div>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Table className=\"tablesorter\" responsive>\r\n            <thead className=\"text-primary\">\r\n                      <tr>\r\n                        <th>Avatar</th>\r\n                        <th>Email</th>\r\n                        <th>Full name</th>\r\n                        <th>Sex</th>\r\n                        <th>Day of birth</th>\r\n                      </tr>\r\n            </thead>\r\n                <tbody>\r\n                  {\r\n                    listFriend ? listFriend.map((friend) => (\r\n                      <tr key={friend.id}>\r\n                      <td><img className=\"friend-list__title-img\" src={axios.defaults.baseURL + 'uploads/images/users/' + friend.FriendAvatar} alt=\"\" /></td>\r\n                      <td>{friend.FriendEmail}</td>\r\n                      <td>{friend.FriendFullName}</td>\r\n                      <td>{Number(friend.FriendGender) === 1 ? 'Male' : 'Female'}</td>\r\n                      <td>{friend.FriendDayOfBirth != null ? friend.FriendDayOfBirth.substring(0, 10): '0000-00-00'}</td>\r\n                    </tr>\r\n                    )) : null\r\n                  }\r\n                </tbody>\r\n            </Table>\r\n          </CardBody>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n    </>\r\n  ) : null;\r\n}\r\n\r\nexport default ListFriend;\r\n"]},"metadata":{},"sourceType":"module"}