{"ast":null,"code":"import _slicedToArray from\"C:/Users/nghia/Documents/arcade/front-end/user_website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from\"react\";import axios from\"axios\";import FriendList from\"./FriendList/friend-list\";import AllGames from\"./AllGames/AllGames\";// import SortByCategory from \"./SortByCategory/SortByCategory\";\nimport GameCategories from\"./GameCategories/GameCategories\";import'./home-page.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomePage(_ref){var user=_ref.user;var listGameOld=useRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listGame=_useState2[0],setListGame=_useState2[1];useEffect(function(){axios.get('game/').then(function(result){setListGame(result.data);listGameOld.current=result.data;}).catch(function(err){console.log(err);});},[]);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listCategory=_useState4[0],setCategory=_useState4[1];useEffect(function(){axios.get('category/').then(function(result){var allObject=[{CategoryName:\"All\"}];setCategory(allObject.concat(result.data));}).catch(function(err){console.log(err);});},[]);var filterBtn=document.querySelectorAll('#CategoryCell .game-category');var filter=function filter(btn,e){Array.from(filterBtn).forEach(function(){for(var i=0;i<filterBtn.length;i++){filterBtn[i].classList.remove('game-category--active');}});e.target.parentElement.classList.add(\"game-category--active\");console.log(btn);if(btn!='All'){var filterData=listGameOld.current.filter(function(item){return item.Category.indexOf(btn)!==-1;});setListGame(filterData);}else setListGame(listGameOld.current);};return/*#__PURE__*/_jsxs(\"div\",{className:\"Background-homepage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"App-left-sidebar\",children:/*#__PURE__*/_jsx(FriendList,{user:user})}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-9 col-lg-9 mx-auto\",children:/*#__PURE__*/_jsx(GameCategories,{listCategory:listCategory,filter:filter})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6 col-lg-9 mx-auto\",children:/*#__PURE__*/_jsx(AllGames,{listGame:listGame})})})})]})]});}export default HomePage;","map":{"version":3,"sources":["C:/Users/nghia/Documents/arcade/front-end/user_website/src/Pages/HomePage/home-page.jsx"],"names":["React","useEffect","useState","useRef","axios","FriendList","AllGames","GameCategories","HomePage","user","listGameOld","listGame","setListGame","get","then","result","data","current","catch","err","console","log","listCategory","setCategory","allObject","CategoryName","concat","filterBtn","document","querySelectorAll","filter","btn","e","Array","from","forEach","i","length","classList","remove","target","parentElement","add","filterData","item","Category","indexOf"],"mappings":"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","sourcesContent":["import React, { useEffect, useState,useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport FriendList from \"./FriendList/friend-list\";\r\nimport AllGames from \"./AllGames/AllGames\";\r\n// import SortByCategory from \"./SortByCategory/SortByCategory\";\r\nimport GameCategories from \"./GameCategories/GameCategories\";\r\n\r\nimport './home-page.css';\r\nfunction HomePage({user}) {\r\n\r\n  const listGameOld = useRef()\r\n\r\n  const [listGame,setListGame] = useState([]) ;\r\n  useEffect(() => {\r\n    axios.get('game/').then(result => {\r\n      setListGame(result.data)\r\n      listGameOld.current = result.data\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }, [])  \r\n  \r\n  const [listCategory,setCategory] = useState([]);\r\n\r\n  useEffect (() =>{\r\n    axios.get('category/').then(result => {\r\n      const allObject = [{CategoryName: \"All\"}]\r\n      setCategory(allObject.concat(result.data))\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }, [])\r\n\r\n  const filterBtn = document.querySelectorAll('#CategoryCell .game-category')\r\n\r\n  const filter = (btn,e) => {\r\n    Array.from(filterBtn).forEach(function () {\r\n      for(let i=0; i<filterBtn.length; i++) {\r\n        filterBtn[i].classList.remove('game-category--active');\r\n      }\r\n    })\r\n    e.target.parentElement.classList.add(\"game-category--active\")\r\n    console.log(btn);\r\n    if(btn != 'All'){\r\n      const filterData = listGameOld.current.filter(item => item.Category.indexOf(btn) !== -1)\r\n      setListGame(filterData)\r\n    }\r\n    else setListGame(listGameOld.current)\r\n  }\r\n\r\n  return (\r\n      <div className=\"Background-homepage\" >\r\n        <div className=\"App-left-sidebar\">\r\n            <FriendList user={user}/>\r\n        </div>\r\n\r\n        <div className=\"App-main\">\r\n          <div className='container'>\r\n                <div className='row'>\r\n                  <div className='col-sm-12 col-md-9 col-lg-9 mx-auto'>\r\n                    <GameCategories listCategory = {listCategory} filter={filter}/>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            <div className='container'>\r\n              <div className='row'>\r\n                <div className='col-sm-12 col-md-6 col-lg-9 mx-auto'>\r\n                  <AllGames listGame = {listGame}/> \r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}