{"ast":null,"code":"import _slicedToArray from\"C:/Users/nghia/Documents/arcade/front-end/user_website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from'axios';import'./sidebar.css';import{NavLink}from\"react-router-dom\";import{Nav}from\"reactstrap\";import{BackgroundColorContext}from\"../BackgroundColorContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SideBar(_ref){var routes=_ref.routes,user=_ref.user;var avatarURL;avatarURL=axios.defaults.baseURL+'uploads/images/users/'+user.Avatar;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setFile=_useState2[1];useEffect(function(){if(selectedFile!=null){var config={headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}};var img=new FormData();img.append('user-image',selectedFile,selectedFile.name);axios.post('images/upload/user',img,config).then(function(res){console.log(res);});}},[selectedFile]);var showAva=function showAva(event){var avaEdit=document.getElementById('output');try{avaEdit.src=URL.createObjectURL(event.target.files[0]);setFile(event.target.files[0]);}catch(error){avaEdit.src={avatarURL:avatarURL};}};return user?/*#__PURE__*/_jsx(BackgroundColorContext.Consumer,{children:function children(_ref2){var color=_ref2.color;return/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",data:color,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsxs(\"form\",{runat:\"server\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"avatar-img\",src:avatarURL,alt:\"\",id:\"output\",width:\"200px\",height:\"200px\"}),/*#__PURE__*/_jsx(\"input\",{accept:\"image/*\",className:\"inputImg\",type:\"file\",onChange:showAva})]}),/*#__PURE__*/_jsx(\"p\",{className:\"username\",children:user.Full_name})]}),/*#__PURE__*/_jsx(Nav,{children:routes.map(function(prop){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(NavLink,{to:prop.layout+prop.path+'/'+user.id,className:\"nav-link\",activeClassName:\"active\",onClick:routes.toggleSidebar,children:[/*#__PURE__*/_jsx(\"i\",{className:prop.icon}),/*#__PURE__*/_jsx(\"p\",{children:prop.name})]})});})})]})});}}):null;}export default SideBar;","map":{"version":3,"sources":["C:/Users/nghia/Documents/arcade/front-end/user_website/src/Pages/UserAccount/SideBar/sidebar.jsx"],"names":["React","useState","useEffect","axios","NavLink","Nav","BackgroundColorContext","SideBar","routes","user","avatarURL","defaults","baseURL","Avatar","selectedFile","setFile","config","headers","Authorization","localStorage","getItem","img","FormData","append","name","post","then","res","console","log","showAva","event","avaEdit","document","getElementById","src","URL","createObjectURL","target","files","error","color","Full_name","map","prop","layout","path","id","toggleSidebar","icon"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport axios from 'axios';\r\nimport './sidebar.css'\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Nav } from \"reactstrap\";\r\nimport {\r\n  BackgroundColorContext\r\n} from \"../BackgroundColorContext\";\r\n\r\nfunction SideBar({routes,user}) {\r\n  var avatarURL;\r\n  avatarURL = axios.defaults.baseURL + 'uploads/images/users/' + user.Avatar;\r\n  \r\n  const [selectedFile,setFile] = useState(null);\r\n  useEffect(() =>  { \r\n    if (selectedFile != null ){\r\n      const config = {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n      };\r\n      const img = new FormData()\r\n      img.append('user-image', selectedFile, selectedFile.name)\r\n      axios.post('images/upload/user',img,config).then(res => {\r\n        console.log(res)\r\n      })\r\n    }\r\n  }, [selectedFile])\r\n    \r\n    var showAva = function(event) {\r\n      var avaEdit = document.getElementById('output');\r\n      try {\r\n        avaEdit.src = URL.createObjectURL(event.target.files[0]);\r\n        setFile(event.target.files[0]);\r\n      } catch (error) {\r\n         avaEdit.src = {avatarURL}\r\n      }\r\n    };\r\n  return(user)?(\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <div className=\"sidebar\" data={color}>\r\n          <div className=\"sidebar-wrapper\"  > \r\n              <div className=\"logo\">\r\n                <form runat=\"server\">\r\n                  <img className=\"avatar-img\" src={avatarURL} alt='' id=\"output\"  width=\"200px\" height=\"200px\" />            \r\n                  <input accept=\"image/*\" className=\"inputImg\" type='file' onChange={showAva}/>\r\n                </form>\r\n                <p className='username'>{user.Full_name}</p>\r\n              </div>\r\n            <Nav>\r\n              {routes.map((prop) => {\r\n                return (\r\n                  <li \r\n                  >\r\n                    <NavLink\r\n                      to={prop.layout + prop.path + '/'+ user.id}\r\n                      className=\"nav-link\"\r\n                      activeClassName=\"active\"\r\n                      onClick={routes.toggleSidebar}\r\n                    >\r\n                      <i className={prop.icon} />\r\n                      <p>{prop.name}</p>\r\n                    </NavLink>\r\n                  </li>\r\n                );\r\n              })}\r\n            </Nav>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  ):null;\r\n}\r\nexport default SideBar;\r\n"]},"metadata":{},"sourceType":"module"}