{"ast":null,"code":"import _slicedToArray from\"C:/Users/nghia/Documents/arcade/front-end/user_website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from'axios';import'./user-profile.css';import dateFormat from\"dateformat\";import{Button,Card,CardHeader,CardFooter,Row,Col}from\"reactstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UserProfile(_ref){var user=_ref.user,setShowChangePassword=_ref.setShowChangePassword;var _useState=useState(user.Full_name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(dateFormat(user.DayOfBirth,\"yyyy-mm-dd\")),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState(user.Gender),_useState6=_slicedToArray(_useState5,2),gender=_useState6[0],setGender=_useState6[1];var onSubmit=function onSubmit(){if(!name.trim()){alert(\"Please enter your name!\");return;}var now=dateFormat(new Date(),\"yyyy-mm-dd\");if(date>now){alert(\"Invalid day of birth!\");return;}var obj={Full_name:name,Gender:Number(user.Gender),DayOfBirth:date,Role:Number(user.Role)};var config={headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}};axios.patch('/user/'+user.id,obj,config).then(function(res){alert(\"Update profile successful!\");}).catch(function(error){console.log(error);});};return user?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"8\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Profile\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row Card-space\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 \",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Full Name:\"})},user.id),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 text-secondary\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fullname\",className:\"o\",value:name,onChange:function onChange(event){setName(event.target.value);}})})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Sex:\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 text-secondary\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",className:\"a\",id:\"gender_Male\",checked:gender,onClick:function onClick(){setGender(true);}}),\" Male\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",className:\"a\",id:\"gender_Female\",checked:!gender,onClick:function onClick(){setGender(false);}}),\" Female\"]})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Date of birth:\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 text-secondary\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"bday\",className:\"o\",id:\"birthday\",value:date,onChange:function onChange(event){setDate(event.target.value);}}),/*#__PURE__*/_jsx(\"div\",{})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Email:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 text-secondary\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",className:\"o\",value:user.Email})})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Password:\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"col-md-3 text-secondary\",type:\"password\",value:user.Password})]}),/*#__PURE__*/_jsxs(CardFooter,{children:[/*#__PURE__*/_jsx(Button,{className:\"btn btn-fill\",onClick:onSubmit,children:\"Save\"}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-fill\",onClick:function onClick(){return setShowChangePassword(true);},children:\"Change Password\"})]})]})})})})}):null;}export default UserProfile;","map":{"version":3,"sources":["C:/Users/nghia/Documents/arcade/front-end/user_website/src/Pages/UserAccount/UserProfile/user-profile.jsx"],"names":["React","useState","axios","dateFormat","Button","Card","CardHeader","CardFooter","Row","Col","UserProfile","user","setShowChangePassword","Full_name","name","setName","DayOfBirth","date","setDate","Gender","gender","setGender","onSubmit","trim","alert","now","Date","obj","Number","Role","config","headers","Authorization","localStorage","getItem","patch","id","then","res","catch","error","console","log","event","target","value","Email","Password"],"mappings":"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","sourcesContent":["import React,{useState} from \"react\";\r\nimport axios from 'axios';\r\nimport './user-profile.css'\r\n\r\nimport dateFormat from \"dateformat\";\r\n\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\";\r\n\r\nfunction UserProfile({user, setShowChangePassword}){\r\n  const[name,setName] = useState(user.Full_name);\r\n  const[date,setDate] = useState(dateFormat(user.DayOfBirth, \"yyyy-mm-dd\"));\r\n  const[gender, setGender] = useState(user.Gender);\r\n\r\n  const onSubmit = () => {\r\n    if (!name.trim()){\r\n      alert(\"Please enter your name!\")\r\n      return;\r\n    }\r\n\r\n    let now = dateFormat(new Date(), \"yyyy-mm-dd\");\r\n    if (date > now){\r\n      alert(\"Invalid day of birth!\")\r\n      return;\r\n    }\r\n\r\n    const obj = {\r\n      Full_name : name,\r\n      Gender : Number(user.Gender),\r\n      DayOfBirth : date,\r\n      Role : Number(user.Role)\r\n    };\r\n    \r\n    const config = {\r\n      headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n    };\r\n\r\n    axios.patch('/user/'+ user.id , obj,config)\r\n        .then(res => {\r\n          alert(\"Update profile successful!\");\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    }\r\n\r\n    return(user)? (\r\n      <>\r\n        <div className=\"content\">\r\n          <Row>\r\n            <Col md=\"8\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <h1 className=\"title\">Profile</h1>\r\n                </CardHeader>\r\n                  <div className=\"row Card-space\" >\r\n                  \r\n                  <div className=\"col-md-3 \" key = {user.id}  >\r\n                    <h5>Full Name:</h5>\r\n                  </div>\r\n                  <div className=\"col-md-3 text-secondary\">\r\n                    <form>\r\n                      <input \r\n                        type=\"text\" \r\n                        name=\"fullname\" \r\n                        className=\"o\" \r\n                        value={name} \r\n                        onChange={(event) => {setName(event.target.value)}} /> \r\n                    </form>\r\n                  </div>\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"row\">\r\n                  <div className=\"col-md-3\">\r\n                    <h5>Sex:</h5>\r\n                  </div>\r\n                  <div className=\"col-md-3 text-secondary\">\r\n                    <label className=\"radio-label\">\r\n                      <input \r\n                      type=\"radio\" \r\n                      name=\"gender\" \r\n                      className=\"a\" \r\n                      id='gender_Male'\r\n                      checked={gender}\r\n                      onClick={() => {setGender(true)}}/> Male \r\n                    </label>\r\n                    <label  className=\"radio-label\">\r\n                      <input \r\n                        type=\"radio\" \r\n                        name=\"gender\" \r\n                        className=\"a\" \r\n                        id='gender_Female'\r\n                        checked={!gender}\r\n                        onClick={() => {setGender(false)}}/> Female\r\n                    </label>\r\n                  </div>\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"row\">\r\n                  <div className=\"col-md-3\">\r\n                    <h5>Date of birth:</h5>\r\n                  </div>\r\n                  <div className=\"col-md-3 text-secondary\">\r\n                    <input \r\n                      type=\"date\" \r\n                      name=\"bday\" \r\n                      className=\"o\" \r\n                      id=\"birthday\"\r\n                      value={date}\r\n                      onChange={(event)=>{setDate(event.target.value)}} />\r\n                      <div></div>\r\n                  </div>\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"row \">\r\n                  <div className=\"col-md-3\">\r\n                    <h5>Email:</h5>\r\n                  </div>\r\n                  <div className=\"col-md-3 text-secondary\">\r\n                    <form>\r\n                      <input type=\"text\" name=\"email\" className=\"o\"  value={user.Email}/>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-3\">\r\n                    <h5>Password:</h5>\r\n                  </div>\r\n                  <input \r\n                    className=\"col-md-3 text-secondary\" \r\n                    type=\"password\"\r\n                    value={user.Password}/>\r\n                </div>\r\n            \r\n                <CardFooter>\r\n                  <Button className=\"btn btn-fill\"\r\n                  onClick={onSubmit}\r\n                  >\r\n                    Save\r\n                  </Button>\r\n                  <Button \r\n                    className=\"btn btn-fill\"\r\n                    onClick={() => setShowChangePassword(true)}\r\n                  >\r\n                    Change Password\r\n                  </Button>\r\n                </CardFooter>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </>\r\n    ):null;\r\n}\r\n\r\nexport default UserProfile;\r\n"]},"metadata":{},"sourceType":"module"}