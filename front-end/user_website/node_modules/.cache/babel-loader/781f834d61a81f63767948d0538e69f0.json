{"ast":null,"code":"import _slicedToArray from\"C:/Users/nghia/Documents/arcade/front-end/user_website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from'axios';import'../../../../node_modules/bootstrap/dist/css/bootstrap.min.css';import'./friend-list.css';import friendList from'../../../Assets/Images/App/friend-list.png';import facebook from'../../../Assets/Images/Icons/facebook.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FriendList(_ref){var user=_ref.user;var openAddFriendForm=function openAddFriendForm(){document.getElementById('friend-list__add').style.display='none';document.getElementById('friend-list__add-form').style.display='flex';};var inputEmail=document.getElementById('friend-list__add-email');var _useState=useState(''),_useState2=_slicedToArray(_useState,2),valueInput=_useState2[0],setValueInput=_useState2[1];var getValueInput=function getValueInput(e){setValueInput(e.target.value);};var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listFriend=_useState4[0],setListFriend=_useState4[1];var getFriend=function getFriend(){axios.get('/friend/get-by-user-id/'+user.id).then(function(res){setListFriend(res.data.post);}).catch(function(err){console.log(err);});};useEffect(function(){if(user!=null){getFriend();}},[user]);var config={headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}};var AddFriendbyEmail=function AddFriendbyEmail(){if(valueInput!=''){if(user.email!==valueInput){axios.post('/friend',{UserID:user.id,FriendEmail:valueInput},config).then(function(response){getFriend();}).catch(function(err){alert('Friend exists or cant find');});inputEmail.value=null;}else alert('Can not add your self');}else alert('Please enter your email address');};return user?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__heading\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__friend active\",children:[/*#__PURE__*/_jsx(\"img\",{src:friendList,className:\"friend-list__friend-img\",alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friend-list__friend-name\",children:\"FRIENDS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__contact\",children:[/*#__PURE__*/_jsx(\"img\",{src:facebook,className:\"friend-list__friend-img\",alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friend-list__friend-name\",children:\"CONNECT\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-group list-group-flush\",children:listFriend===null||listFriend===void 0?void 0:listFriend.map(function(friend){return/*#__PURE__*/_jsx(\"div\",{className:\"friend-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"friend-info__item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"friend-list__title-img\",src:axios.defaults.baseURL+'uploads/images/users/'+friend.FriendAvatar,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friend-list__title-name\",children:friend.FriendEmail}),/*#__PURE__*/_jsx(\"button\",{className:\"friend-list__title-add\",children:\"Invite\"})]})},friend.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__footer\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"friend-list__add\",id:\"friend-list__add\",onClick:openAddFriendForm,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus friend-list__add-icon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friend-list__friend-name\",children:\"Add Friend\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__add-email\",id:\"friend-list__add-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"\",id:\"friend-list__add-email\",onChange:function onChange(e){return getValueInput(e);},placeholder:\"Friend Email\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:AddFriendbyEmail,children:\"Add\"})]})]})]})}):null;}export default FriendList;","map":{"version":3,"sources":["C:/Users/nghia/Documents/arcade/front-end/user_website/src/Pages/HomePage/FriendList/friend-list.jsx"],"names":["React","useState","useEffect","axios","friendList","facebook","FriendList","user","openAddFriendForm","document","getElementById","style","display","inputEmail","valueInput","setValueInput","getValueInput","e","target","value","listFriend","setListFriend","getFriend","get","id","then","res","data","post","catch","err","console","log","config","headers","Authorization","localStorage","getItem","AddFriendbyEmail","email","UserID","FriendEmail","response","alert","map","friend","defaults","baseURL","FriendAvatar"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport axios from 'axios'\r\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.min.css'\r\nimport './friend-list.css'\r\nimport friendList from '../../../Assets/Images/App/friend-list.png'\r\nimport facebook from '../../../Assets/Images/Icons/facebook.png'\r\n\r\n\r\nfunction FriendList({user}) {\r\n    const openAddFriendForm = ()=> {\r\n        document.getElementById('friend-list__add').style.display = 'none';\r\n        document.getElementById('friend-list__add-form').style.display = 'flex';\r\n    }\r\n    \r\n    const inputEmail = document.getElementById('friend-list__add-email')\r\n\r\n    const [valueInput,setValueInput] = useState('')\r\n    const getValueInput = (e) =>{\r\n        setValueInput(e.target.value)\r\n    }\r\n\r\n\r\n    const [listFriend, setListFriend] = useState([])\r\n    const getFriend = () => {\r\n        axios.get('/friend/get-by-user-id/' + user.id )\r\n            .then(res => {\r\n                setListFriend(res.data.post);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })       \r\n    }\r\n\r\n    useEffect(() => {\r\n        if (user!=null){\r\n            getFriend()\r\n        }\r\n    },[user])\r\n    \r\n    const config = {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n    };\r\n    \r\n\r\n    const AddFriendbyEmail = () => {\r\n        if(valueInput != '')\r\n        {\r\n            if(user.email !== valueInput)\r\n            {\r\n                axios.post('/friend', {\r\n                    UserID : user.id,\r\n                    FriendEmail : valueInput\r\n                    }, config)\r\n                    .then(response => {\r\n                        getFriend()\r\n                    })\r\n                    .catch(err => {\r\n                        alert('Friend exists or cant find')\r\n                })\r\n                inputEmail.value = null\r\n            }\r\n            else alert('Can not add your self')\r\n        }\r\n        else alert('Please enter your email address')\r\n\r\n    }\r\n\r\n\r\n    return (user) ? (\r\n        <div>\r\n            <div className=\"friend-list\">      \r\n                <div className=\"friend-list__heading\">\r\n                    <div className=\"friend-list__friend active\">\r\n                        <img src={friendList} className=\"friend-list__friend-img\" alt=\"\" />\r\n                        <div className=\"friend-list__friend-name\">FRIENDS</div>\r\n                    </div>\r\n                    <div className=\"friend-list__contact\">\r\n                        <img src={facebook} className=\"friend-list__friend-img\" alt=\"\" />\r\n                        <div className=\"friend-list__friend-name\">CONNECT</div>\r\n                    </div>\r\n                </div>\r\n    \r\n                <div className=\"list-group list-group-flush\">\r\n                    {   \r\n                        listFriend?.map((friend) => (\r\n                            <div className=\"friend-info\" key={friend.id}>\r\n                                <div className=\"friend-info__item\">\r\n                                    <img className=\"friend-list__title-img\" src={axios.defaults.baseURL + 'uploads/images/users/' + friend.FriendAvatar} alt=\"\" />\r\n                                    <div className=\"friend-list__title-name\">{friend.FriendEmail}</div>\r\n                                    <button className=\"friend-list__title-add\">Invite</button>\r\n                                </div>\r\n                            </div>\r\n                            ))\r\n                    }\r\n                </div>\r\n                <div className=\"friend-list__footer\">\r\n                    <button className=\"friend-list__add\" id=\"friend-list__add\" onClick={openAddFriendForm}>\r\n                        <i className=\"fas fa-plus friend-list__add-icon\"></i>\r\n                        <div className=\"friend-list__friend-name\">Add Friend</div>\r\n                    </button>\r\n                    <div className=\"friend-list__add-email\" id=\"friend-list__add-form\">\r\n                        <input type=\"text\" className=\"form-control\" name='' id=\"friend-list__add-email\" onChange={(e) => getValueInput(e)} placeholder=\"Friend Email\"/>\r\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={AddFriendbyEmail}>Add</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : null;\r\n}\r\n \r\nexport default FriendList "]},"metadata":{},"sourceType":"module"}